<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá‡¶á ‡¶Ü‡¶®‡¶≤‡¶ï ‚Äî ‡¶ö‡ßá‡¶á‡¶® ‡¶∞‡¶ø‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶® ‡¶≤‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶ø‡¶Ç</title>
  <meta name="description" content="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶•‡ßá‡¶ï‡ßá ‡ß© ‡¶ú‡¶® ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡¶≤‡ßá ‡¶´‡ßç‡¶∞‡¶ø ‡¶∞‡¶ø‡¶∏‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶π‡¶¨‡ßá‡•§ ‡¶è‡¶ï‡¶¶‡¶Æ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶ø‡¶ï HTML, ‡¶§‡¶¨‡ßÅ‡¶ì ‡¶≠‡¶æ‡¶á‡¶∞‡¶æ‡¶≤ ‡¶≤‡ßÅ‡¶™!" />
  <!-- Open Graph for better previews -->
  <meta property="og:title" content="‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá‡¶á ‡¶Ü‡¶®‡¶≤‡¶ï ‚Äî ‡¶ö‡ßá‡¶á‡¶® ‡¶∞‡¶ø‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶®" />
  <meta property="og:description" content="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶•‡ßá‡¶ï‡ßá ‡ß© ‡¶ú‡¶® ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡¶≤‡ßá‡¶á ‡¶∞‡¶ø‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Ü‡¶®‡¶≤‡¶ï‡•§" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://dummyimage.com/1200x630/000/fff.png&text=Share+to+Unlock" />
  <meta name="twitter:card" content="summary_large_image"/>
  <style>
    :root{
      --bg:#0f172a;/*slate-900*/
      --panel:#111827;/*gray-900*/
      --panel2:#0b1220;/*deep*/
      --text:#e5e7eb;/*gray-200*/
      --muted:#9ca3af;/*gray-400*/
      --brand:#06b6d4;/*cyan-500*/
      --accent:#22c55e;/*green-500*/
      --warn:#f59e0b;/*amber-500*/
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; background:radial-gradient(1200px 600px at 80% -20%,#0ea5e960,transparent),radial-gradient(1200px 600px at -20% 120%,#22c55e40,transparent),var(--bg); color:var(--text)}
    .wrap{max-width:960px;margin:0 auto;padding:24px}
    .card{background:linear-gradient(180deg,var(--panel),var(--panel2)); border:1px solid #1f2937; border-radius:20px; padding:24px; box-shadow:0 10px 30px #0006}
    .hero{display:grid; gap:18px; grid-template-columns:1.2fr 1fr; align-items:center}
    @media (max-width:900px){.hero{grid-template-columns:1fr}}
    h1{font-size:clamp(26px,4vw,44px); line-height:1.1; margin:0}
    p{color:var(--muted); margin:6px 0 0}
    .badge{display:inline-flex;align-items:center;gap:8px; background:#083344; color:#a5f3fc; border:1px solid #0e7490; padding:6px 10px; border-radius:999px; font-size:13px}
    .cta{display:flex; gap:10px; flex-wrap:wrap; margin-top:16px}
    button,.btn{cursor:pointer; border:0; border-radius:12px; padding:12px 16px; font-weight:600}
    .btn-primary{background:var(--brand); color:#001018}
    .btn-outline{background:transparent; color:var(--text); border:1px solid #334155}
    .grid{display:grid; gap:16px}
    .grid-3{grid-template-columns:repeat(3,1fr)}
    @media (max-width:900px){.grid-3{grid-template-columns:1fr}}
    .kpi{background:#0b1220; border:1px solid #1f2937; border-radius:16px; padding:16px}
    .kpi strong{font-size:28px}
    .progress{height:10px;background:#0b1220;border:1px solid #1f2937;border-radius:999px; overflow:hidden}
    .bar{height:100%;background:linear-gradient(90deg,var(--brand),var(--accent)); width:0%}
    .hidden{display:none}
    .foot{opacity:.7; font-size:13px; margin-top:16px}
    .sharebox{display:flex; gap:10px; flex-wrap:wrap}
    .input{width:100%; padding:12px 14px; background:#0b1220; color:var(--text); border:1px dashed #334155; border-radius:12px}
    .pill{font-size:12px; padding:6px 10px; border:1px solid #334155; border-radius:999px; color:#a1a1aa}
    .unlock{background:linear-gradient(180deg,#052e1c,#031b11); border:1px solid #064e3b}
    .reward{display:grid; grid-template-columns:1fr; gap:12px}
    a {color:#7dd3fc}
    .tick{filter:drop-shadow(0 0 8px #22c55e)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card hero">
      <div>
        <span class="badge">üöÄ ‡¶ö‡ßá‡¶á‡¶® ‡¶∞‡¶ø‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶® ‡¶≤‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶ø‡¶Ç</span>
        <h1>‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®, <span style="color:var(--accent)">‡ß© ‡¶ú‡¶®</span> ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡¶≤‡ßá‡¶á ‡¶∞‡¶ø‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Ü‡¶®‡¶≤‡¶ï!</h1>
        <p>‡¶è‡¶ï‡¶ü‡¶ø <strong>‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶ø‡¶ï HTML</strong> ‡¶™‡ßá‡¶ú‡ßá‡¶á ‡¶≠‡¶æ‡¶á‡¶∞‡¶æ‡¶≤ ‡¶≤‡ßÅ‡¶™ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨ ‚Äî ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶â‡¶®‡¶ø‡¶ï ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®; ‡ß© ‡¶ú‡¶® ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡¶≤‡ßá ‡¶´‡ßç‡¶∞‡¶ø ‡¶∞‡¶ø‡¶∏‡ßã‡¶∞‡ßç‡¶∏, ‡¶ï‡ßÅ‡¶™‡¶® ‡¶¨‡¶æ ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶π‡¶¨‡ßá‡•§</p>
        <div class="cta">
          <button id="btnShare" class="btn btn-primary">üì£ ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
          <button id="btnCopy" class="btn btn-outline">üîó ‡¶ï‡¶™‡¶ø ‡¶≤‡¶ø‡¶Ç‡¶ï</button>
        </div>
        <div class="foot">Tip: WhatsApp/Telegram/X/Facebook ‡¶è ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶ö‡ßá‡¶á‡¶® ‡¶∞‡¶ø‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶® ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡¶Ø‡¶º‡•§</div>
      </div>
      <div>
        <div class="kpi">
          <div style="display:flex; gap:10px; align-items:center; justify-content:space-between">
            <div>
              <div class="pill">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡ßá‡¶∏</div>
              <div style="margin-top:8px"><strong id="refCount">0</strong> / <span id="target">3</span> ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü</div>
            </div>
            <svg class="tick" id="tick" width="56" height="56" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <circle cx="12" cy="12" r="10" stroke="#064e3b" stroke-width="2" fill="#052e1c"/>
              <path d="M7 12.5l3 3 7-7" stroke="#22c55e" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="progress" style="margin-top:10px"><div class="bar" id="bar"></div></div>
          <div class="sharebox" style="margin-top:12px">
            <input id="shareUrl" class="input" readonly>
            <a id="wa" class="btn btn-outline" target="_blank" rel="noopener">WhatsApp</a>
            <a id="tg" class="btn btn-outline" target="_blank" rel="noopener">Telegram</a>
            <a id="x" class="btn btn-outline" target="_blank" rel="noopener">X</a>
            <a id="fb" class="btn btn-outline" target="_blank" rel="noopener">Facebook</a>
          </div>
        </div>
        <div class="kpi unlock" id="unlockBox" style="margin-top:12px">
          <div class="pill" style="border-color:#065f46;color:#a7f3d0">üéÅ ‡¶∞‡¶ø‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°</div>
          <div class="reward">
            <div id="lockedMsg">‡ß© ‡¶ú‡¶® ‡¶Ü‡¶∏‡¶≤‡ßá‡¶á ‡¶è‡¶ñ‡¶æ‡¶®‡ßá <strong>‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°/‡¶ï‡ßÅ‡¶™‡¶® ‡¶ï‡ßã‡¶°</strong> ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá‡•§</div>
            <div id="rewardBox" class="hidden">
              <div><strong>‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®!</strong> ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§</div>
              <div>
                <a id="downloadLink" class="btn btn-primary" href="#" download>‚¨áÔ∏è ‡¶´‡ßç‡¶∞‡¶ø ‡¶∞‡¶ø‡¶∏‡ßã‡¶∞‡ßç‡¶∏ ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°</a>
                <div class="foot">‡¶è‡¶á ‡¶≤‡¶ø‡¶Ç‡¶ï‡¶ü‡¶ø ‡¶°‡ßá‡¶Æ‡ßã‡•§ ‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶´‡¶æ‡¶á‡¶≤/‡¶ï‡ßÅ‡¶™‡¶® ‡¶¶‡¶ø‡¶®‡•§</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="grid grid-3" style="margin-top:18px">
      <div class="kpi">
        <div class="pill">‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá</div>
        <p>‡ßß) ‡¶™‡ßá‡¶ú‡¶ü‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶á‡¶â‡¶®‡¶ø‡¶ï <em>ref</em> ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¨‡¶æ‡¶®‡¶æ‡¶Ø‡¶º‡•§ ‡ß®) ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡ß©) ‡¶Ø‡¶æ‡¶∞‡¶æ ‡¶≤‡¶ø‡¶Ç‡¶ï‡ßá ‡¶¢‡ßÅ‡¶ï‡¶¨‡ßá, ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶°‡¶º‡¶æ‡¶á (CountAPI/‡¶´‡¶≤‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï)‡•§ ‡ß™) ‡ß© ‡¶π‡¶≤‡ßá‡¶á ‡¶∞‡¶ø‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Ü‡¶®‡¶≤‡¶ï‡•§</p>
      </div>
      <div class="kpi">
        <div class="pill">‡ßß‡ß¶‡ß¶% ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶ø‡¶ï</div>
        <p>‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶ï‡ßã‡¶® ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶®‡ßá‡¶á‡•§ ‡¶ö‡¶æ‡¶á‡¶≤‡ßá <code>countapi.xyz</code> ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞-‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡•§ ‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶π‡¶≤‡ßá ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶´‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡•§</p>
      </div>
      <div class="kpi">
        <div class="pill">‡¶è‡¶∏‡¶á‡¶ì + ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â</div>
        <p>OG ‡¶ü‡ßç‡¶Ø‡¶æ‡¶ó/‡¶Æ‡ßá‡¶ü‡¶æ ‡¶Ü‡¶õ‡ßá, ‡¶´‡¶≤‡ßá Facebook/X/Telegram ‡¶è ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶≠‡¶æ‡¶≤‡ßã ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá‡•§</p>
      </div>
    </div>

    <p class="foot">‚ö†Ô∏è ‡¶®‡ßã‡¶ü: ‡¶™‡¶æ‡¶¨‡¶≤‡¶ø‡¶ï ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶æ‡¶∞ (countapi) ‡¶°‡ßá‡¶Æ‡ßã ‡¶â‡¶¶‡ßç‡¶¶‡ßá‡¶∂‡ßç‡¶Ø‡ßá‡•§ ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡¶∂‡¶®‡ßá ‡¶®‡¶ø‡¶ú‡¶∏‡ßç‡¶¨ ‡¶õ‡ßã‡¶ü API/‡¶è‡¶ú ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
  </div>

<script>
(function(){
  const TARGET = 3; // ‡¶ï‡¶§‡¶ú‡¶® ‡¶è‡¶≤‡ßá ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶π‡¶¨‡ßá
  const NAMESPACE = 'chain-reaction-demo-v1'; // CountAPI ‡¶®‡ßá‡¶Æ‡¶∏‡ßç‡¶™‡ßá‡¶∏
  const el = (id)=>document.getElementById(id);
  const refCountEl = el('refCount');
  const barEl = el('bar');
  const shareUrlEl = el('shareUrl');
  const tick = el('tick');
  const lockedMsg = el('lockedMsg');
  const rewardBox = el('rewardBox');
  const downloadLink = el('downloadLink');

  // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶â‡¶®‡¶ø‡¶ï ‡¶Ü‡¶á‡¶°‡¶ø
  function myId(){
    let id = localStorage.getItem('my_ref_id');
    if(!id){
      id = Math.random().toString(36).slice(2,10);
      localStorage.setItem('my_ref_id', id);
    }
    return id;
  }

  // ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶§‡ßà‡¶∞‡¶ø
  function buildShareUrl(){
    const url = new URL(window.location.href);
    url.searchParams.set('ref', myId());
    return url.toString();
  }

  // ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶®‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§
  function hydrateShareLinks(){
    const url = encodeURIComponent(shareUrlEl.value);
    const text = encodeURIComponent('‡¶è‡¶á ‡¶´‡ßç‡¶∞‡¶ø ‡¶∞‡¶ø‡¶∏‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡¶§‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡ß© ‡¶ú‡¶® ‡¶π‡ßá‡¶≤‡ßç‡¶™ ‡¶ï‡¶∞‡ßã!');
    el('wa').href = `https://wa.me/?text=${text}%20${url}`;
    el('tg').href = `https://t.me/share/url?url=${url}&text=${text}`;
    el('x').href  = `https://twitter.com/intent/tweet?url=${url}&text=${text}`;
    el('fb').href = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
  }

  // ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡ßá‡¶ü
  let currentCount = 0;
  function updateUI(){
    refCountEl.textContent = currentCount;
    const pct = Math.min(100, Math.round((currentCount/TARGET)*100));
    barEl.style.width = pct + '%';
    tick.style.opacity = currentCount>=TARGET?1:.25;
    if(currentCount>=TARGET){
      lockedMsg.classList.add('hidden');
      rewardBox.classList.remove('hidden');
      downloadLink.href = '#'; // ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶∏‡¶≤ ‡¶´‡¶æ‡¶á‡¶≤/‡¶ï‡ßÅ‡¶™‡¶® ‡¶¶‡¶ø‡¶®
    }
  }

  // ‡¶™‡¶æ‡¶¨‡¶≤‡¶ø‡¶ï ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶æ‡¶∞ (CountAPI)
  async function countapi(path, method='GET'){
    const url = `https://api.countapi.xyz/${path}`;
    const res = await fetch(url).catch(()=>null);
    if(!res || !res.ok) throw new Error('countapi failed');
    return res.json();
  }

  async function ensureKey(key){
    try{ await countapi(`create?namespace=${NAMESPACE}&key=${key}&value=0`); }
    catch(e){ /* key may exist */ }
  }

  async function getCount(key){
    try{ const data = await countapi(`get/${NAMESPACE}/${key}`); return data.value||0; }
    catch(e){ return parseInt(localStorage.getItem('local_'+key)||'0',10); }
  }

  async function increment(key){
    try{ const data = await countapi(`hit/${NAMESPACE}/${key}`); return data.value||0; }
    catch(e){ const v = (parseInt(localStorage.getItem('local_'+key)||'0',10))+1; localStorage.setItem('local_'+key, String(v)); return v; }
  }

  // ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶π‡¶≤‡ßá ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶°‡¶º‡¶æ‡¶®‡ßã
  async function onReferralVisit(){
    const params = new URLSearchParams(location.search);
    const ref = params.get('ref');
    if(!ref) return;
    // ‡¶®‡¶ø‡¶ú‡ßá ‡¶®‡¶ø‡¶ú‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶á‡¶ó‡¶®‡ßã‡¶∞
    if(ref === myId()) return;
    const stampKey = 'stamped_'+ref;
    if(sessionStorage.getItem(stampKey)) return; // ‡¶è‡¶ï‡¶á ‡¶∏‡ßá‡¶∂‡¶®‡ßá ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞‡¶á
    sessionStorage.setItem(stampKey, '1');
    await ensureKey('ref_'+ref);
    await increment('ref_'+ref);
  }

  // ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂
  async function refreshMyCount(){
    await ensureKey('ref_'+myId());
    currentCount = await getCount('ref_'+myId());
    updateUI();
  }

  // ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶∏‡ßá‡¶®‡¶æ‡¶∞
  el('btnCopy').addEventListener('click', async ()=>{
    try{ await navigator.clipboard.writeText(shareUrlEl.value); alert('‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!'); } catch(e){
      shareUrlEl.select(); document.execCommand('copy'); alert('‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
    }
  });

  el('btnShare').addEventListener('click', async ()=>{
    const shareData = { title:'‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá‡¶á ‡¶Ü‡¶®‡¶≤‡¶ï', text:'‡¶è‡¶á ‡¶´‡ßç‡¶∞‡¶ø ‡¶∞‡¶ø‡¶∏‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶ï‡¶∞‡¶§‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡ß© ‡¶ú‡¶® ‡¶π‡ßá‡¶≤‡ßç‡¶™ ‡¶ï‡¶∞‡ßã!', url: shareUrlEl.value };
    if(navigator.share){ try{ await navigator.share(shareData); } catch(e){} }
    else{ alert('‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶Ö‡¶™‡¶∂‡¶®‡¶ü‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡ßá ‡¶®‡ßá‡¶á‡•§ ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßá ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§'); }
  });

  // init
  (async function init(){
    shareUrlEl.value = buildShareUrl();
    hydrateShareLinks();
    await onReferralVisit();
    await refreshMyCount();
    updateUI();
  })();
})();
</script>
</body>
</html>
